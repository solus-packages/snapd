diff -Nru snapd-2.39.3.orig/tests/main/xdg-open/task.yaml snapd-2.39.3/tests/main/xdg-open/task.yaml
--- snapd-2.39.3.orig/tests/main/xdg-open/task.yaml	2020-06-05 10:13:49.000000000 -0300
+++ snapd-2.39.3/tests/main/xdg-open/task.yaml	2020-07-07 09:11:37.000000000 -0300
@@ -31,9 +31,6 @@
     #shellcheck source=tests/lib/systems.sh
     . "$TESTSLIB"/systems.sh
 
-    # this will be later used by userd
-    export XDG_DATA_DIRS=/usr/share
-
     dbus-launch > dbus.env
     #shellcheck disable=SC2046
     export $(xargs < dbus.env)
@@ -56,7 +53,6 @@
     cat << 'EOF' > /tmp/xdg-open
     #!/bin/sh
     echo "$@" > /tmp/xdg-open-output
-    echo "XDG_DATA_DIRS=$XDG_DATA_DIRS" >> /tmp/xdg-open-output
     EOF
     chmod +x /tmp/xdg-open
     if [ -e /usr/bin/xdg-open ]; then
@@ -92,8 +88,6 @@
     ensure_xdg_open_output "help:snapcraft"
     ensure_xdg_open_output "apt:snapcraft"
     ensure_xdg_open_output "zoommtg://snapcraft.io"
-    # Ensure XDG_DATA_DIRS was prefixed with snap specific location
-    test "$(tail -1 /tmp/xdg-open-output)" = "XDG_DATA_DIRS=$SNAP_MOUNT_DIR/test-snapd-desktop/current/usr/share:/usr/share"
 
     # Ensure other schemes are not passed through
     rm /tmp/xdg-open-output
diff -Nru snapd-2.39.3.orig/userd/launcher.go snapd-2.39.3/userd/launcher.go
--- snapd-2.39.3.orig/userd/launcher.go	2020-06-05 10:13:49.000000000 -0300
+++ snapd-2.39.3/userd/launcher.go	2020-07-07 09:09:37.000000000 -0300
@@ -24,14 +24,11 @@
 	"net/url"
 	"os"
 	"os/exec"
-	"path/filepath"
-	"strings"
 	"syscall"
 	"time"
 
 	"github.com/godbus/dbus"
 
-	"github.com/snapcore/snapd/dirs"
 	"github.com/snapcore/snapd/i18n"
 	"github.com/snapcore/snapd/osutil/sys"
 	"github.com/snapcore/snapd/strutil"
@@ -148,22 +145,7 @@
 		return makeAccessDeniedError(fmt.Errorf("Supplied URL scheme %q is not allowed", u.Scheme))
 	}
 
-	snap, err := snapFromSender(s.conn, sender)
-	if err != nil {
-		return dbus.MakeFailedError(err)
-	}
-
-	xdg_data_dirs := []string{}
-	xdg_data_dirs = append(xdg_data_dirs, fmt.Sprintf(filepath.Join(dirs.SnapMountDir, snap, "current/usr/share")))
-	for _, dir := range strings.Split(os.Getenv("XDG_DATA_DIRS"), ":") {
-		xdg_data_dirs = append(xdg_data_dirs, dir)
-	}
-
-	cmd := exec.Command("xdg-open", addr)
-	cmd.Env = os.Environ()
-	cmd.Env = append(cmd.Env, fmt.Sprintf("XDG_DATA_DIRS=%s", strings.Join(xdg_data_dirs, ":")))
-
-	if err := cmd.Run(); err != nil {
+	if err := exec.Command("xdg-open", addr).Run(); err != nil {
 		return dbus.MakeFailedError(fmt.Errorf("cannot open supplied URL"))
 	}
 
